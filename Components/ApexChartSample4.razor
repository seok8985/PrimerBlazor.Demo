@using ApexCharts

<PrimerCard>
    <strong>Paid Customer Ratio</strong>
    <div class="color-fg-muted text-xs mb-2">Last 30 Days</div>

    <PrimerApexChart Width="100%" Height="140px"
                     ChartOptions="@ChartOptions"
                     SeriesData="@ChartData"
                     ShowTitleName="false"
                     ShowSeriesName="false"
                     SeriesType="SeriesType.Donut" />

    <div class="mt-2 f6">
        <div class="d-flex flex-justify-between flex-items-center mb-1">
            <span class="d-flex flex-items-center">
                <span class="chart-legend-dot" style="background:#1f6feb"></span>
                Paid Customers
            </span>
            <span>30%</span>
        </div>
        <div class="d-flex flex-justify-between flex-items-center color-fg-muted">
            <span class="d-flex flex-items-center">
                <span class="chart-legend-dot" style="background:#cdd9e5"></span>
                Free Customers
            </span>
            <span>70%</span>
        </div>
    </div>
</PrimerCard>

@code {
    private Dictionary<string, List<DataPoint>> ChartData = new()
        {
            ["Customers"] = new()
        {
            new() { X = "Paid", Y = 30 },
            new() { X = "Free", Y = 70 }
        }
        };

    private ApexChartOptions<DataPoint> ChartOptions = new()
        {
            Chart = new Chart
            {
                Type = ChartType.Donut,
                Sparkline = new ChartSparkline { Enabled = true }
            },
            PlotOptions = new PlotOptions
            {
                Pie = new PlotOptionsPie
                {
                    StartAngle = -90,
                    EndAngle = 90,
                    Donut = new PlotOptionsDonut { Size = "70%" }
                }
            },
            Labels = new List<string> { "Paid", "Free" },
            Colors = new() { "#1f6feb", "#cdd9e5" },
            Legend = new Legend { Show = false }
        };
}
